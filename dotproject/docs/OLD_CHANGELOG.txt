*********************************************************
* IMPORTANT:                                            *
*                                                       *
* This file has been deprecated. The new Changelog file *
* will be autogenerated using a patched cvs2cl version  *
* and is located in the root directory.                 *
*                                                       *
*********************************************************

dotproject CHANGELOG (insert latest entries at the top)

3 December 2002 (kripper):
---------------------------------
modules/tasks/addedit.php
db/dotproject.sql
db/dotproject_022_to_023.sql
db/dotproject_kripper.sql
dosql/addeditTask.php
- Renamed fields in table 'task_dependencies'
- Removed temp file db/dotproject_kripper.sql

3 December 2002 (AJE):
---------------------------------
styles/main.css
- added style for standard error

includes/db_connect.php
- added better error information to loadHash and loadList functions
  An optional line number is added to the function calls to allow
  for finding which sql call caused the problem.

classdefs/ui.php (new)
./index.php
./logincheck.php
./includes/header.php
./includes/main_functions.php
./includes/permissions.php
- new classes for user interface handling (encapsulated login function)
- included in index.php
- CTabBox class deprecates the drawTabBox function

modules/companies/*.php
- port sql calls to standard db functions

module/admin/index.php
module/admin/viewuser.php
- uses new CTabBox class

module/admin/vw_usr.php
- icon-ised some textual information in the table

module/projects/index.php
module/projects/view.php
-  uses new CTabBox class

2002-11-29 19:54  (kripper)
---------------------------------
modules/tasks/gantt.php
index.php
viewgantt.php
- Added gantt chart viewer

2002-11-29 10:15  (kripper)
---------------------------------
modules/tasks/addedit.php
dosql/addeditTask.php
- Added task dependencies
- Added dynamic tasks check box

2002-11-29 10:11  (kripper)
---------------------------------
db/dotproject.sql
dotproject_022_to_023.sql
dotproject_kripper.sql
- Added task_dependencies table
- Added task_dynamic field to tasks table

2002-11-29 08:58  (kripper)
---------------------------------
modules/tasks/addedit.php
- Added Task dependencies select box

2002-11-28 06:41  (kripper)
---------------------------------
modules/tasks/index.php
- Display task's durations and finish dates as n/a if not specified
- Obtain unspecified task's finish dates by adding start_date + duration

2002-11-28 05:57  (kripper)
---------------------------------
modules/tasks/gantt.php
- Added file gantt.php

2002-11-28 05:55  (kripper)
---------------------------------
modules/tasks/index.php
- Fixed project color styling under mozilla browsers
- Added gantt charts support

25 November 2002 (AJE):
---------------------------------
includes/db_connect.php
dosql/aed_perms.php
- started re-integrating some of Leo's work in the db library. There are
  come useful functions here and down the track it will make porting to
  other db's easier (hopefully).

modules/tasks/index.php
function/tasks_func.php
- change filter array to a named hash rather than integer index
  this will allow easier additions of filters
  added 'all' tasks filter

modules/projects/addedit.php
- fixed bug in project_user select box

modules/admin/index.php
- changed presentation of A-Z

modules/admin/vw_active_usr.php
modules/admin/vw_inactive_usr.php
- bug fix: wouldn't search on user last name

modules/admin/vw_usr_perms.php
- minor fix: deleted redundant line of code

2002-11-22 03:39  (kripper)
---------------------------------
modules/tasks/addedit.php
- Optional tasks duration

2002-11-22 03:32  (kripper)
---------------------------------
includes/config.php
- Added REQUIRE_TASKS_DURATION constant

2002-11-22 03:22  (kripper)
---------------------------------
dosql/addeditTask.php
- Stay in selected project after adding a new task

2002-11-22 02:34  (kripper)
---------------------------------
modules/companies/vw_active.php
- Fixed link to projects

2002-11-22 02:16  (kripper)
---------------------------------
includes/config.php
- Added defines in config.php

19 November 2002 (JCP):
---------------------------------
includes/config.php
dosql/addeditTask.php
modules/tasks/addedit.php
- Stay in selected project after adding a new task
- removed the 'expected duration' requirement when adding tasks

modules/companies/vw_active.php
- added missing project_id to the sql select

15 November 2002 (AJE):
---------------------------------
Added three fields to the events table in the upgrade script
  event_project - deprecates event_parent
  event_owner - to personalise events
  event_private - only visible to me

## CORE ##

./index.php
- modified $return path syntax to be relative to this file

./includes/login.php
- tidy up of html
- $return is set to empty string - the 'return' function needs to be
  fixed so that you can login from a complete query string (eg
  pointing to a task)

./includes/header.php
./includes/footer.php
- added no-cache parameters

./selector.php
- generic selector (eg of company names)

./logincheck.php
./includes/permissions.php
- added entry in cookie to hold state of user department
- added debug information to logincheck to help with debugging

## ADMIN/USERS ## modules/admin/
addedituser.php
- change dept selector to generic selector

index.php
vw_active_usr.php
vw_inactive_usr.php
vw_usr.php
- added filter for A-Z of first letter of any of the 3 user names

vw_usr_permissions.php
- added new style of permissions edit form
  (using generic selector to give more future flexibility)

## CALENDAR ##

dosql/addeditdel_event.php
modules/calendar/addedit.php
- cosmetic changes
- table change with assocuiated additional fields on edit form
  (still don't support project id)

## FORUMS ##

functions/forum_func.php
- commented debug code and uncommented mail command

## PROJECTS ##

modules/projects/vw_idx_active.php
modules/projects/vw_idx_archived.php
modules/projects/index.php
modules/projects/view.php
modules/projects/addedit.php
- cosmetic changes
- tabbed active/archived projects on index page

## TASKS ##

modules/tasks/index.php
modules/tasks/view.php
- cosmetic changes

## COMPANIES ##

module/companies/index.php
module/companies/view.php
module/companies/addedit.php
- cosmetic changes

7 November 2002 (AJE):
---------------------------------
styles/main.css
- added th style to std table class

module/admin/vw_active_usr.php (new)
module/admin/vw_inactive_usr.php (new)
module/admin/vw_usr.php (new)
module/admin/vw_usr_perms.php (new)
module/admin/vw_usr_proj.php (new)
module/admin/addedituser.php
module/admin/dosql.php
module/admin/index.php
module/admin/permissions.php
module/admin/viewuser.php
- cosmetic changes for tabbed and flat views on the index page and view user
- cosmetic update of permissions page, structural update of user list handling
- standardisation of classes for tables
- added support for assigning a department to a user

modules/companies/vw_active.php
modules/companies/vw_depts.php
- cosmetic updates
- added count of users in a department

./dept_selector.php
- dialog box for department selection

includes/create_new_menu.php
includes/header.php
- fix for creating new task when in a task

module/projects/view.php
module/projects/vw_tasks.php
module/projects/vw_forums.php
module/projects/vw_files.php (new)
- cosmetic refresh
- added tabbed/flat views
- new files tab

modules/projects/addedit.php
- May in months array mis-spelt

31 October 2002 (JRP):
---------------------------------
Changed logic of "strpos" used in "dosql/addfile.php" because of potential problem with "TRUE/FALSE"
confusion dependent on PHP version 4.03 transition. [Change in response to "safe-mode" problem with 
file upload utility]. Tested, but not in "safe-mode". Reported behavior not replicated either.

28 October 2002 (AJE):
-----------------------------
modules/files/index.php
modules/files/addedit.php
- allowed a file to be attached to all projects (ie, project_id = 0)

modules/tasks/addedit.php
- fixed bad case in dosql field in AddEdit form

26 Oct 2002 (JRP):
docs/INSTALL.txt
  start adding discussion of "secret.php" for version 0.2.3 security hardening
  

25 October 2002 (AJE):
-----------------------------
images/bground.gif
images/icons/expand.gif
images/icons/collapse.gif
- darkened the background a bit to give it more contrast under white text
- new icons for tasks index page

db/dotproject_022_to_023.sql
- outlines the table changes for new features in version 023

style/main.css
- consolidating style changes into the style sheet so that
  future 'theming' will be easier to support

dosql/aed_post.php
dosql/watch_forum.php
functions/forums_func.php
modules/forums/index.php
modules/forums/viewer.php
modules/forums/view_topics.php
- added watch handling for forums
  A user can watch the activity of either a topic or a whole forum
- added filters to the forum index and topic index pages
- a post reply returns to the topic rather than the topic list

includes/header.php
- shifted create new functions to header

includes/main_functions.php
- added drawTabBox function.  Most of these functions should be encapsulated
  in a dotproject UI class in the future

includes/leftnav.php
- tidy up styles logic and structural layout (visually should be the same)
  The button class was applied to an outer cell so that was giving you
  funny borders everytime you changed the background colour.

modules/companies/view.php
modules/companies/vw_active.php
modules/companies/vw_archived.php
modules/companies/vw_users.php
modules/companies/vw_depts.php
- modified layout for company view
  provides for tabbed and flat styles

modules/departments/view.php
modules/departments/addedit.php
modules/departments/dosql.php
- new departments module, still under development

functions/tasks_func.php
modules/tasks/index.php
modules/tasks/addedit.php
- improved (hopefully?) the filtering
- added icons beside the project name to collapse to a single project
  and expand back to the list
- activate the status field in tasks with -1 being in-active

dosql/updatetask.php
- hours worked field altered to float so minor change here to
  allow the float entry in the db

18 October 2002 (AJE):
-----------------------------
functions/post_message.php
functions/view_message.php
- allowed editting of the subject in a reply (still defaults to re:...)

17 October 2002 (AJE):
-----------------------------
functions/admin_func.php
- new file for definable user types

modules/admin/addedituser.php
modules/admin/viewuser.php
modules/admin/dosql.php
- add support to edit user type

20 September 2002 (AJE):
-----------------------------
module/ticketsmith/index.php
module/ticketsmith/post_ticket.php
dosql/ticket_aed.php
- added functionality to add basic ticket from the browser

includes/config.php
- added secret word include

includes/permissions.php
- fixed login pybass security breach
- added secret word to cookie

includes/secret.php
- new file for security

./logincheck.php
- added secret word hash to cookie

11 September 2002 (AJE):
-----------------------------
module/dosql/addfile.php
- declared $wordarr explicitly as this would error in the while array

module/files/index.php
- change user id to the full user name

modules/tasks/view.php
- change link to addfile to reference file_task rather than file_id

5 September 2002 (AJE):
-----------------------------
modules/calendar/day_view.php
- added breadcrumb to week view
- tidied code

modules/calendar/week_view.php
- fixed bug in table
- linked actual day hyperlink to day view
- tidied code

4 September 2002 (AJE):
-----------------------------
includes/leftnav.php
- removed legacy code (form wrapping the main table)

3 September 2002 (AJE):
-----------------------------
modules/tasks/view.php
- fixed a broken link to the project in the breadcrumbs

2 September 2002 (AJE):
-----------------------------
Fixed up the order of this log (my mistake, call it a sourthern hemi-sphere thing)

modules/admin/index.php
modules/admin/permissions.php
modules/admin/addedituser.php
modules/admin/viewuser.php
- upgraded permissions

./calendar.php
modules/projects/addedit.php
- fixed a bug in the month and day select boxes

30 August 2002 (AJE):
-----------------------------
dosql/addeditTask.php
- fixed miss-spelt task_end_date variable

includes/create_new_menu.php
- added missing TR tag

modules/admin/permissions.php
- added calendar to module list

modules/tasks/view.php
- added project_id var (otherwise create new task fails in this view?? was working)
- fixed return page (form action attribute) for update task

modules/functions/calendar_func.php
modules/calendar/index.php
modules/calendar/addedit.php
modules/calendar/dayview.php
- added permissions

25 August 2002 (AJE):
-----------------------------
Extended permissions to tasks

./index.php
- delete assignment of cookie_project (redundant)

function/tasks_func.php
- added constant, deleted unsed class (these can be replaced later but they do
  not really form part of the current code base)

modules/files/addedit.php
- fixed project selection from attach file link in view task

modules/tasks/index.php
modules/tasks/view.php
modules/tasks/addedit.php
- added permissions and tidied up code

24 August 2002 (AJE):
-----------------------------
Extended permissions to projects, and a couple of bug fixes

function/projects_func.php
- deleted unused class
- added common projects constants

includes/permissions.php
- deleted deprecated code

includes/main_functions.php
- added color selection function
- deleted unused getPerms function
- added select box function (create from array)

modules/admin/permissions.php
- added confirm delete function

modules/projects/index.php
- added permissions, fixed 'my tasks' count
- corrected % complete calculation
- modularised text color selection on project color background

modules/projects/view.php
- added permissions
- many bug fixes in code and sql, corrected % complete calculation
- cut mini-tables into separate files to improve readability and manageabiliy

modules/projects/vw_forums.php
modules/projects/vw_tasks.php
- new files for mini-tables in projects view action

modules/projects/addedit.php
- added permissions and optimised date selector code

modules/files/index.php
modules/forums/index.php
- updated text color selection on project color background

16 August 2002 (AJE):
-----------------------------
Extended permissions to forums and files

./logincheck.php
- added parsing for master cookie

includes/permissions.php
- logic fix for super user viewing a module
- added a master cookie

includes/header.php
- alter user name based on master cookie

includes/leftnav.php
- couldn't see a read-only forums module

modules/projects/index.php
- set company filter to default to user company

modules/forums/index.php
modules/forums/viewer.php
- added permissions and disabled search buttons

modules/forums/view_topics.php
modules/forums/view_messages.php
- added permissions

modules/files/index.php
- added permissions, filter list box for projects and disabled search buttons

modules/files/addedit.php
- added permissions and breadcrumbs
- made delete handling mor consistent with other modules

11 August 2002 (AJE):
-----------------------------
This update includes a reqork of the security model. Security is loaded once in
includes/permissions.php rather than also in any subsequent module. This
provides a much more portable method of determining module level permissions
and cut down on multiple calls to the permissions table.
Companies and Contacts have been included as test modules in this update. Other
modules will be included when thoroughly tested.
Caveat: this method does not check for the case of deny-all as this is the
assumed default condition.

index.php
- formatting changes

dosql/aed_post.php
- encode html special characters in message field

includes/login.php
- added draft logo/brand

includes/permissions.php
- rework permissions model (all user permissions loaded itno an array for use 
  by leftnav and module)

includes/leftnav.php
- rework permissions

modules/admin/permissions
- fixed bug when editting individual permission (module and item not properly 
  selected)

modules/admin/dosql.php
- encode html special characters in message field
- update security model for return page

modules/companies/index.php
- rework permissions

modules/companies/view.php
- rework permissions

modules/companies/addedit.php
- rework permissions

modules/help/access_denied.php
- new page (and denied permissions bounce to this page)

modules/tasks/view.php
- top align comment cell

modules/contacts/index.php
- optimise code
- rework $showfield array handling
- add permissions

modules/contacts/addedit.php
- add permissions

7 August 2002 (AJE):
-----------------------------
color_selector.php
- added drop-down list for preset colours

logincheck.php
- add user_full_name cookie

dosql/addedittask.php
- added nofity support and style block to mail
- changed mail 'From' to default to the task owner

functions/calendar_func.php
- added support for filter by company

includes/create_new_menu.php
- added support to auto-populate the task parent of a new task

includes/header.php
- added current user display (could be removed later)
- added link to about page

modules/admin/index.php
- added link on login name to view user action

modules/admin/addedituser.php
- change title and add breadcrumbs

modules/admin/viewuser.php
- new page

modules/calendar/index.php
- added filter by company

modules/companies/index.php
- fixed sql for project counts

modules/companies/view.php
- new page

modules/companies/addedit.php
- fixed hole in security (anyone could edit regardless of permissions)
- widen some input boxes, increased max length on state field for non-US countries

modules/forums/post_messages.php
- commented out code that made the author of any reply the same as the original message

modules/help/about.php
- new module and file

modules/projects/index.php
- added filter by company

modules/projects/addedit.php
- cleaned code layout, added delete project link and breadcrumbs

modules/projects/dosql.php
- clean code layout and added delete project support

modules/tasks/index.php
- major re-work to show child tasks assigned to individual users
- fixed missing closing form tag

modules/tasks/addedit.php
- added code to auto-populate taks parent

07/12/2002:
-----------------------------
Convergence of various patches done by John Pritchard. Details of the
convergence and the extra work done are in the file CHANGES.txt.

07/03/2002:
-----------------------------
Removed trailing <CR> from dosql/updatetask.php to allow Unix patch command
to work.
Added tagging for initial release with these modifications
RELEASE 0.2.1 (RELEASE_0_2_1).

10/12/2001: 
-----------------------------
Added this Log!
Fixed ticketsmith module require path, which will now work if the php_include path = ./
Updated the popup calendar with code sent to me by Jon Broderick Jon Broderick <jon@jivacreative.com>

