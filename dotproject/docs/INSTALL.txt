Installing dotProject on LAMP System

REVISION HISTORY
Original Document:  17 Oct 2002 (dotProject Team)
Revised:            03 - 08 July 2002 (by JRP)

	
SITUATION
You have access to a functioning WAMP (Windows+Apache+MySQL+PHP) or LAMP (Linux+Apache+MySQL+PHP) web server. You also have the ability to create a MySQL database and tables.
	
You've decided to install the open-source project management tool called "dotproject".
	
If you've been running "dotproject" already, you might want to refer to our UPGRADING.txt (to be written) document.
	

MISSION
Install a new copy of dotproject on a LAMP system.
	

EXECUTION
1) Download the most recent dotproject tarball:
    http://sourceforge.net/projects/dotproject/
		
2) Unpack the tarball in your web root directory:
    tar -zxvf dotproject_*.tar.gz
    [Note: replace the * with the appropriate version.]

3) Database Setup:
    // Customize for your system
    Create a new mysql database called {dotproject}.
    Create a new user called {dotproject}.
    Grant access to user {dotproject} on the {dotproject} database.
    Make sure to record the dotproject user's password, {yourpassword}.

    // Customize to match your db_name, db_user, and db_pass.
    mysql> CREATE database dotproject;
    mysql> GRANT ALL PRIVILEGES ON dotproject.* 
            TO dotproject@localhost IDENTIFIED BY
            "yourpassword" WITH GRANT OPTION;

4) Customize your Database Schema Script
    Open the file dotproject/db/dotproject.sql with a text editor
    and edit the last section where the default dotproject Admin
    Account is setup (line 352).
    
    We recommend that you specify a new admin username, password, 
    and email. Save your changes.

5) Populate Database:
    Utilize the information from the Database Setup and the provided
    "/db/dotproject.sql" script to populate the dotproject database.
    
    #mysql -udotproject -pyourpassword dotproject < dotproject/db/dotproject.sql 
    
    If you are installing to a Windows system, exit MySQL and from
    the command prompt, work your way into the "dotproject/db" folder.
    Then, run the following command:
    C:\{path-to-webroot}\dotproject\db> mysql -udotproject -pyourpassword dotproject < dotproject.sql   
    
6) Configuration File Customization:
    Edit dotproject/includes/config.php to use your dbhost, name, username,
    password and web root directory.

7) Point your browser to http://yourdomain.com/dotproject/index.php.  If 
        all is well, you should see a login page. 
        Username: admin
        Password: passwd

8) Click on the Users button and change the admin password as soon as possible.


---------------------------------------------------------------------------
Web trouble ticket email gateway: dotproject/includes/gateway.pl
---------------------------------------------------------------------------
(from the ticketsmith installation)

1.	Have a working perl install, with DBI and the DBD::MySQL bundles installed
2.  Be sure to protect the gateway.pl file.  You basically need to do one 
    of two things, either move it out of a web-accessible place or somehow 
    protect it from being accessed over the web:
    
            <Files "gateway.pl">
                    order deny,allow
                    deny from all
            </Files>
    
    If you don't protect it, one of two things will happen,  either users will be
    able to see the source and thus grab your Ticketsmith MySQL password, or
    something unpredictable will happen when Apache tries  to run it as a CGI
    script.  I don't think this could be harmful, but hey,  you never know.



7.  Edit the top of gateway.pl to fit your setup.


    
9.  Configure your MDA or MTA to pipe mail for your support list to gateway.pl.  For
    example,  here is a sample procmail recipe:

            :0
            * (^To:|^CC:|^Cc:) .*support@foo.bar
            |/path/to/gateway.pl

    You can also set Ticketsmith up directly with sendmail in /etc/aliases: 

            support: "|/path/to/gateway.pl"

    Keep in mind that with sendmail you need to either put gateway.pl in 
    /etc/smrsh or at least symlink to it from that directory so that 
    sendmail will execute it.  If you do this, you'll have to point 
    the /etc/aliases entry to the copy in /etc/smrsh.